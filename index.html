<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Ângelo Morgado's Portfolio</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Portfolio, Software Developer, Computer Graphics, Machine Learning, Researcher" name="keywords">
    <meta content="This is my portfolio! Where I present myself and my projects!" name="description">

    <link href="img/favicon.ico" rel="icon">

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet"> 

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">

    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="lib/lightbox/css/lightbox.min.css" rel="stylesheet">

    <link href="css/style.css" rel="stylesheet">

    <style>
        :root {
            --primary-color: #0070FF; /* New vibrant blue from the shader */
            --dark-color: #212529;
        }
    
        #home {
            position: relative; 
            overflow: hidden;
            background: none !important;
        }
        #webgl-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
        }
        .header-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(20, 24, 36, 0.85); /* A darker, neutral overlay */
            z-index: -1;
        }
        #home .container {
             z-index: 1;
        }

        /* --- New Color Palette Overrides --- */
        .text-primary {
            color: var(--primary-color) !important;
        }
        .bg-primary {
            background-color: var(--primary-color) !important;
        }
        .btn-primary, .btn-outline-primary:hover {
            background-color: var(--primary-color) !important;
            border-color: var(--primary-color) !important;
        }
        .btn-outline-primary {
            color: var(--primary-color);
            border-color: var(--primary-color);
        }
        .portfolio-btn.bg-primary, .navbar-light .navbar-nav .nav-link.active {
            color: var(--primary-color) !important;
        }
        .border-primary {
            border-color: var(--primary-color) !important;
        }
        .fa-dot-circle.text-primary {
            color: var(--primary-color) !important;
        }
        #portfolio-flters li.active, #portfolio-flters li:hover {
            background: var(--primary-color) !important;
            color: #fff !important;
        }
        .scroll-to-bottom {
            border: 2px solid white;
            border-radius: 50%;
            padding: 8px;
        }

    </style>
</head>

<body data-spy="scroll" data-target=".navbar" data-offset="51">
    <nav class="navbar fixed-top shadow-sm navbar-expand-lg bg-light navbar-light py-3 py-lg-0 px-lg-5">
        <a href="index.html" class="navbar-brand ml-lg-3">
            <h1 class="m-0 display-5"><span class="text-primary">Ângelo</span>Morgado</h1>
        </a>
        <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse px-lg-3" id="navbarCollapse">
            <div class="navbar-nav m-auto py-0">
                <a href="#home" class="nav-item nav-link active">Home</a>
                <a href="#about" class="nav-item nav-link">About</a>
                <a href="#qualification" class="nav-item nav-link">Quality</a>
                <a href="#portfolio" class="nav-item nav-link">Portfolio</a>
                <a href="#blog" class="nav-item nav-link">Publications</a>
            </div>
        </div>
    </nav>
    <div class="container-fluid d-flex align-items-center mb-5 py-5" id="home" style="min-height: 100vh;">
        <canvas id="webgl-canvas"></canvas>
        <div class="header-overlay"></div>
        
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-5 px-5 pl-lg-0 pb-5 pb-lg-0">
                    <img class="img-fluid w-100 rounded-circle shadow-sm" src="img/me.jpg" alt="">
                </div>
                <div class="col-lg-7 text-center text-lg-left">
                    <h3 class="text-white font-weight-normal mb-3">Hey! I'm</h3>
                    <h1 class="display-3 text-uppercase text-primary mb-2" style="-webkit-text-stroke: 2px #ffffff;">Ângelo Morgado</h1>
                    <h1 class="typed-text-output d-inline font-weight-lighter text-white"></h1>
                    <div class="typed-text d-none">Researcher, Software Developer, Computer Graphics Engineer, Machine Learning Engineer</div>
                    <div class="d-flex align-items-center justify-content-center justify-content-lg-start pt-5">
                        <a href="doc/cv.pdf" class="btn btn-outline-light mr-5">Download CV</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid py-5" id="about">
        <div class="container">
            <div class="position-relative d-flex align-items-center justify-content-center">
                <h1 class="display-1 text-uppercase text-white" style="-webkit-text-stroke: 1px #dee2e6;">About</h1>
                <h1 class="position-absolute text-uppercase text-primary">About Me</h1>
            </div>
            <div class="row justify-content-center">
                <div class="col-lg-7 d-flex justify-content-center align-items-center">
                    <div style="border-left: 4px solid #000000; padding-left: 32px; margin-left: 0; max-width: 600px;">
                        <h3 class="mb-4 text-center" style="font-size: 2.2rem;">Machine Learning & Software Engineer</h3>
                        <p class="text-center" style="font-size: 1.2rem;">I love programming and researching. My favourite topics are Computer Graphics, Machine Learning, Computer Vision, Autonomous Driving, and Software Development.</p>
                        <div class="row mb-3 justify-content-center" style="font-size: 1.1rem;">
                            <div class="col-sm-6 py-2 text-center"><h6>Name: <span class="text-secondary">Ângelo Morgado</span></h6></div>
                            <div class="col-sm-6 py-2 text-center"><h6>Birthday: <span class="text-secondary">21 January 2001</span></h6></div>
                            <div class="col-sm-6 py-2 text-center"><h6>Degree: <span class="text-secondary">Master</span></h6></div>
                            <div class="col-sm-6 py-2 text-center"><h6>Experience: <span class="text-secondary">2 Years</span></h6></div>
                            <div class="col-sm-6 py-2 text-center"><h6>Email: <span class="text-secondary">angelo_morgado@outlook.com</span></h6></div>
                            <div class="col-sm-6 py-2 text-center"><h6>Address: <span class="text-secondary">Covilhã, Portugal</span></h6></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid py-5" id="qualification">
        <div class="container">
            <div class="position-relative d-flex align-items-center justify-content-center">
                <h1 class="display-1 text-uppercase text-white" style="-webkit-text-stroke: 1px #dee2e6;">Quality</h1>
                <h1 class="position-absolute text-uppercase text-primary">Education & Expericence</h1>
            </div>
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <h3 class="mb-4">My Education</h3>
                    <div class="border-left border-primary pt-2 pl-4 ml-2">
                        <div class="position-relative mb-4">
                            <i class="far fa-dot-circle text-primary position-absolute" style="top: 2px; left: -32px;"></i>
                            <h5 class="font-weight-bold mb-1">Master In Computer Science and Engineering</h5>
                            <p class="mb-2"><strong>University of Beira Interior</strong> | <small>2022-2024</small></p>
                            <p class="mb-2"><strong>Score:</strong> <small>N/A</small></p>
                            <p>This was where I improved my researching skills as well as pollished both Machine Learning and Computer Graphics skills.</p>
                        </div>
                        <div class="position-relative mb-4">
                            <i class="far fa-dot-circle text-primary position-absolute" style="top: 2px; left: -32px;"></i>
                            <h5 class="font-weight-bold mb-1">Bachelor In Computer Science and Engineering</h5>
                            <p class="mb-2"><strong>University of Beira Interior</strong> | <small>2019 - 2022</small></p>
                            <p class="mb-2"><strong>Score:</strong> <small>16.3</small></p>
                            <p>Where I learned everything I know about programming.</p>
                        </div>
                        <div class="position-relative mb-4">
                            <i class="far fa-dot-circle text-primary position-absolute" style="top: 2px; left: -32px;"></i>
                            <h5 class="font-weight-bold mb-1">Highschool</h5>
                            <p class="mb-2"><strong>Escola Secundária Quinta das Palmeiras</strong> | <small>2016-2019</small></p>
                            <p class="mb-2"><strong>Score:</strong> <small>16.7</small></p>
                            <p>Where I got the basics of mathematics and science.</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <h3 class="mb-4">My Expericence</h3>
                    <div class="border-left border-primary pt-2 pl-4 ml-2">
                        <div class="position-relative mb-4">
                            <i class="far fa-dot-circle text-primary position-absolute" style="top: 2px; left: -32px;"></i>
                            <h5 class="font-weight-bold mb-1">Software/ML Engineer</h5>
                            <p class="mb-2"><strong>DeepNeuronic</strong> | <small>2024-</small></p>
                            <p>Currently working at DeepNeuronic as a Software/ML Engineer. DeepNeuronic is a startup that focuses on revolutionizing how we use surveilance equipment by making it autonomous and capable of executing tasks, previously only achievable with human intervention.</p>
                        </div>
                        <div class="position-relative mb-4">
                            <i class="far fa-dot-circle text-primary position-absolute" style="top: 2px; left: -32px;"></i>
                            <h5 class="font-weight-bold mb-1">Researcher</h5>
                            <p class="mb-2"><strong>University of Beira Interior</strong> | <small>2022-2024</small></p>
                            <p>I got a research grant to investigate Autonomous Driving. I conducted a research on the emerging architecture of end-to-end. I also developed a framework that allows users to train their ego vehicles in the CARLA simulator using the Gymnasium API. I published two papers during this time.</p>
                        </div>
                        <div class="position-relative mb-4">
                            <i class="far fa-dot-circle text-primary position-absolute" style="top: 2px; left: -32px;"></i>
                            <h5 class="font-weight-bold mb-1">Store Cashier</h5>
                            <p class="mb-2"><strong>Continente Covilhã, Sonae</strong> | <small>2021-2022</small></p>
                        </div>
                        <div class="position-relative mb-4">
                            <i class="far fa-dot-circle text-primary position-absolute" style="top: 2px; left: -32px;"></i>
                            <h5 class="font-weight-bold mb-1">Intern</h5>
                            <p class="mb-2"><strong>Espaço Informática</strong> | <small>2020</small></p>
                            <p>This was where I learned how to assemble and tinker with computers.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid pt-5 pb-3" id="portfolio">
        <div class="container">
            <div class="position-relative d-flex align-items-center justify-content-center">
                <h1 class="display-1 text-uppercase text-white" style="-webkit-text-stroke: 1px #dee2e6;">Gallery</h1>
                <h1 class="position-absolute text-uppercase text-primary">My Portfolio</h1>
            </div>

            <h3 class="text-center text-black mb-5">These are some of my fun projects that i've done over the past few years. I've only chosen projects that are public on my GitHub, so most of them won't appear in this page :\</h3>
            <div class="row">
                <div class="col-12 text-center mb-2">
                    <ul class="list-inline mb-4" id="portfolio-flters">
                        <li class="btn btn-sm btn-outline-primary m-1 active"  data-filter="*">All</li>
                        <li class="btn btn-sm btn-outline-primary m-1" data-filter=".first">Autonomous Driving</li>
                        <li class="btn btn-sm btn-outline-primary m-1" data-filter=".second">Computer Graphics</li>
                        <li class="btn btn-sm btn-outline-primary m-1" data-filter=".third">Machine Learning</li>
                        <li class="btn btn-sm btn-outline-primary m-1" data-filter=".fourth">Software</li>
                    </ul>
                </div>
            </div>
            <div class="row portfolio-container">

                <div class="col-lg-4 col-md-6 mb-4 portfolio-item first">
                    <div class="position-relative overflow-hidden mb-2">
                        <img class="img-fluid rounded w-100" src="gifs/CARLA-GymDrive.gif" alt="">
                        <div class="portfolio-btn bg-primary d-flex align-items-center justify-content-center text-center" style="padding: 20px;">
                            <h6 style="color: white; margin: 0;">
                                CARLA-GymDrive is an easy way to train a RL agent in the CARLA simulator, by acting as a Gymansium interface 
                                (<a href="https://github.com/angelomorgado/CARLA-GymDrive" style="color: white; text-decoration: none;">github page</a>)
                            </h6>
                        </div>
                    </div>
                    <h5 class="font-weight-medium mb-4 text-center">CARLA-GymDrive</h5>
                </div>

                <div class="col-lg-4 col-md-6 mb-4 portfolio-item second">
                    <div class="position-relative overflow-hidden mb-2">
                        <img class="img-fluid rounded w-100" src="gifs/N-Body-Sim.gif" alt="">
                        <div class="portfolio-btn bg-primary d-flex align-items-center justify-content-center text-center" style="padding: 20px;">
                            <h6 style="color: white; margin: 0;">
                                This projects aims to simulate the movement of a group of bodies in space. In order to do that an highly costumizable particle system was conceived. This project was made using C++ and OpenGL.
                                (<a href="https://github.com/angelomorgado/N-Body-Simulation" style="color: white; text-decoration: none;">github page</a>)
                            </h6>
                        </div>
                    </div>
                    <h5 class="font-weight-medium mb-4 text-center">N-Body Simulation</h5>
                </div>

                <div class="col-lg-4 col-md-6 mb-4 portfolio-item third">
                    <div class="position-relative overflow-hidden mb-2">
                        <img class="img-fluid rounded w-100" src="img/image-interpretation.png" alt="">
                        <div class="portfolio-btn bg-primary d-flex align-items-center justify-content-center text-center" style="padding: 20px;">
                            <h6 style="color: white; margin: 0;">
                                This program receives images, interprets them, and generates a description using instance segmentation and crowd pose estimation models. It was made as a Bachelor project.
                                (<a href="https://github.com/angelomorgado/Image-Interpretation" style="color: white; text-decoration: none;">github page</a>)
                            </h6>
                        </div>
                    </div>
                    <h5 class="font-weight-medium mb-4 text-center">Image Interpretation</h5>
                </div>

                <div class="col-lg-4 col-md-6 mb-4 portfolio-item second">
                    <div class="position-relative overflow-hidden mb-2">
                        <img class="img-fluid rounded w-100" src="img/OpenGL-Engine.png" alt="">
                        <div class="portfolio-btn bg-primary d-flex align-items-center justify-content-center text-center" style="padding: 20px;">
                            <h6 style="color: white; margin: 0;">
                                This is an engine built in OpenGL and it contains multiple cool functionalities. It can be executed in VSCode.
                                (<a href="https://github.com/angelomorgado/OpenGL-Ultimate-Template" style="color: white; text-decoration: none;">github page</a>)
                            </h6>
                        </div>
                    </div>
                    <h5 class="font-weight-medium mb-4 text-center">OpenGL Engine</h5>
                </div>
                
                <div class="col-lg-4 col-md-6 mb-4 portfolio-item first">
                    <div class="position-relative overflow-hidden mb-2">
                        <img class="img-fluid rounded w-100" src="img/carla.jpg" alt="">
                        <div class="portfolio-btn bg-primary d-flex align-items-center justify-content-center text-center" style="padding: 20px;">
                            <h6 style="color: white; margin: 0;">
                                Template for the Carla Simulator. It is a collection of various features and functionalities that can be used to create a custom environment for the Carla Simulator. It can be seen as an engine of sorts, and acts as a starting point for creating various scenarios for the Carla Simulator.
                                (<a href="https://github.com/angelomorgado/CARLA-Ultimate-Template" style="color: white; text-decoration: none;">github page</a>)
                            </h6>
                        </div>
                    </div>
                    <h5 class="font-weight-medium mb-4 text-center">CARLA Ultimate Template</h5>
                </div>

                <div class="col-lg-4 col-md-6 mb-4 portfolio-item fourth">
                    <div class="position-relative overflow-hidden mb-2">
                        <img class="img-fluid rounded w-100" src="img/linux-shell.jpg" alt="">
                        <div class="portfolio-btn bg-primary d-flex align-items-center justify-content-center text-center" style="padding: 20px;">
                            <h6 style="color: white; margin: 0;">
                                This is a project carried out in the scope of the operating systems discipline of the computer engineering course, in an attempt to replicate the linux shell with some basic built-in commands. It contains recursive commands, pipes, and redirections.
                                (<a href="https://github.com/Henistein/LinuxShell" style="color: white; text-decoration: none;">github page</a>)
                            </h6>
                        </div>
                    </div>
                    <h5 class="font-weight-medium mb-4 text-center">Linux Shell</h5>
                </div>

                <div class="col-lg-4 col-md-6 mb-4 portfolio-item first fourth">
                    <div class="position-relative overflow-hidden mb-2">
                        <img class="img-fluid rounded w-100" src="img/CARLA-GUI-Manager.png" alt="">
                        <div class="portfolio-btn bg-primary d-flex align-items-center justify-content-center text-center" style="padding: 20px;">
                            <h6 style="color: white; margin: 0;">
                                Application that can control the CARLA simulator through a GUI client, abstracting the user of any code.
                                (<a href="https://github.com/angelomorgado/CARLA-GUI-Manager" style="color: white; text-decoration: none;">github page</a>)
                            </h6>
                        </div>
                    </div>
                    <h5 class="font-weight-medium mb-4 text-center">CARLA GUI Manager</h5>
                </div>
            
            </div>
        </div>
    </div>
    <div class="container-fluid pt-5" id="blog">
        <div class="container">
            <div class="position-relative d-flex align-items-center justify-content-center">
                <h1 class="display-1 text-uppercase text-white" style="-webkit-text-stroke: 1px #dee2e6;">Publications</h1>
                <h1 class="position-absolute text-uppercase text-primary">My Publications</h1>
            </div>
            <div class="row align-items-center justify-content-center">
                <div class="col-lg-4 mb-5">
                    <div class="position-relative mb-4">
                        <img class="img-fluid rounded w-100" src="img/paper1.png" alt="">
                    </div>
                    <h5 class="font-weight-medium mb-4">Unlocking the Potential of Dynamic Languages: An Exploration of Automated Unit Test Generation Techniques</h5>
                    <a class="btn btn-sm btn-outline-primary py-2" href="https://www.researchgate.net/publication/373495041_Unlocking_the_Potential_of_Dynamic_Languages_An_Exploration_of_Automated_Unit_Test_Generation_Techniques">Read More</a>
                </div>
                <div class="col-lg-4 mb-5">
                    <div class="position-relative mb-4">
                        <img class="img-fluid rounded w-100" src="img/paper2.png" alt="">
                    </div>
                    <h5 class="font-weight-medium mb-4">Enhancing Autonomous Vehicles: An Experimental Analysis of Path Planning and Decision-Making Processes through Simulink-Based Architecture</h5>
                    <a class="btn btn-sm btn-outline-primary py-2" href="https://www.researchgate.net/publication/375629150_Enhancing_Autonomous_Vehicles_An_Experimental_Analysis_of_Path_Planning_and_Decision-Making_Processes_through_Simulink-Based_Architecture">Read More</a>
                </div>
                <div class="col-lg-4 mb-5">
                    <div class="position-relative mb-4">
                        <img class="img-fluid rounded w-100" src="img/CARLA-GymDrivePaper.png" alt="">
                    </div>
                    <h5 class="font-weight-medium mb-4">CARLA-GymDrive:Autonomous driving episode generation for the Carla simulator in a gym environment</h5>
                    <a class="btn btn-sm btn-outline-primary py-2" href="https://www.sciencedirect.com/science/article/pii/S235271102400325X">Read More</a>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid bg-primary text-white mt-5 py-5 px-sm-3 px-md-5">
        <div class="container text-center py-5">
            <div class="d-flex justify-content-center mb-4">
                <a class="btn btn-light btn-social mr-2" href="https://github.com/angelomorgado"><i class="fab fa-github"></i></a>
                <a class="btn btn-light btn-social mr-2" href="https://twitter.com/Amr_Morgado"><i class="fab fa-twitter"></i></a>
                <a class="btn btn-light btn-social mr-2" href="https://www.linkedin.com/in/angelo-morgado/"><i class="fab fa-linkedin-in"></i></a>
                <a class="btn btn-light btn-social" href="https://www.instagram.com/amr_morgado/"><i class="fab fa-instagram"></i></a>
            </div>
            <p class="m-0">© Ângelo Morgado. All Rights Reserved. Template by <a class="text-white font-weight-bold" href="https://htmlcodex.com">HTML Codex</a>
            </p>
        </div>
    </div>
    <i class="fa fa-2x fa-angle-down text-white scroll-to-bottom"></i>

    <a href="#" class="btn btn-outline-dark px-0 back-to-top"><i class="fa fa-angle-double-up"></i></a>


    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <script src="lib/typed/typed.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/isotope/isotope.pkgd.min.js"></script>
    <script src="lib/lightbox/js/lightbox.min.js"></script>

    <script src="mail/jqBootstrapValidation.min.js"></script>
    <script src="mail/contact.js"></script>

    <script src="js/main.js"></script>

    <script src="js/config-loader.js"></script>
    
    <script>
        const canvas = document.getElementById('webgl-canvas');
        const gl = canvas.getContext('webgl');

        if (!gl) {
            console.error("WebGL not supported, header will have default background.");
            document.querySelector('#home').style.backgroundColor = '#141824'; // Fallback color
        } else {
            // Shaders
            const vsSource = `
                attribute vec2 a_position;
                void main() {
                    gl_Position = vec4(a_position, 0.0, 1.0);
                }`;

            const initialFsSource = `
                precision highp float;
                float random(vec2 st) {
                    return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123);
                }
                void main() {
                    gl_FragColor = vec4(vec3(step(0.7, random(gl_FragCoord.xy))), 1.0);
                }`;
            
            const gameFsSource = `
                precision highp float;
                uniform sampler2D u_texture;
                uniform vec2 u_resolution;

                float getState(vec2 coord) {
                    return texture2D(u_texture, (gl_FragCoord.xy + coord) / u_resolution).r;
                }

                void main() {
                    float sum = 0.0;
                    sum += getState(vec2(-1.0, -1.0));
                    sum += getState(vec2(-1.0, 0.0));
                    sum += getState(vec2(-1.0, 1.0));
                    sum += getState(vec2(0.0, -1.0));
                    sum += getState(vec2(0.0, 1.0));
                    sum += getState(vec2(1.0, -1.0));
                    sum += getState(vec2(1.0, 0.0));
                    sum += getState(vec2(1.0, 1.0));
                    
                    float currentState = getState(vec2(0.0, 0.0));
                    
                    if (currentState > 0.5) { // Alive
                        if (sum < 2.0 || sum > 3.0) {
                             gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0); // Die
                        } else {
                             gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0); // Live
                        }
                    } else { // Dead
                        if (sum == 3.0) {
                            gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0); // Live
                        } else {
                            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0); // Stay dead
                        }
                    }
                }`;

            const renderFsSource = `
                precision highp float;
                uniform sampler2D u_texture;
                uniform vec2 u_resolution; // Added to pass resolution
                void main() {
                    float life = texture2D(u_texture, gl_FragCoord.xy / u_resolution).r;
                    // The background is black, the "life" cells will be the primary blue color
                    gl_FragColor = vec4(vec3(life) * vec3(0.0, 0.44, 1.0), 1.0);
                }`;

            const createProgram = (vs, fs) => {
                const p = gl.createProgram();
                const v = gl.createShader(gl.VERTEX_SHADER);
                const f = gl.createShader(gl.FRAGMENT_SHADER);
                gl.shaderSource(v, vs);
                gl.shaderSource(f, fs);
                gl.compileShader(v);
                gl.compileShader(f);
                // Basic error checking
                if (!gl.getShaderParameter(v, gl.COMPILE_STATUS)) console.error(gl.getShaderInfoLog(v));
                if (!gl.getShaderParameter(f, gl.COMPILE_STATUS)) console.error(gl.getShaderInfoLog(f));
                gl.attachShader(p,v);
                gl.attachShader(p,f);
                gl.linkProgram(p);
                return p;
            };

            const initialProgram = createProgram(vsSource, initialFsSource);
            const gameProgram = createProgram(vsSource, gameFsSource);
            const renderProgram = createProgram(vsSource, renderFsSource);
            
            const positionBuffer = gl.createBuffer();
            gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1,-1, 1,-1, -1,1, -1,1, 1,-1, 1,1]), gl.STATIC_DRAW);
            
            const homeDiv = document.getElementById('home');
            // RESOLUTION INCREASED HERE by changing the divisor from 8 to 4
            const resolution = [homeDiv.clientWidth / 4, homeDiv.clientHeight / 4];
            canvas.width = resolution[0];
            canvas.height = resolution[1];

            const createFramebuffer = () => {
                const tex = gl.createTexture();
                gl.bindTexture(gl.TEXTURE_2D, tex);
                gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, resolution[0], resolution[1], 0, gl.RGBA, gl.UNSIGNED_BYTE, null);
                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);
                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);
                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
                const fb = gl.createFramebuffer();
                gl.bindFramebuffer(gl.FRAMEBUFFER, fb);
                gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, tex, 0);
                return { tex, fb };
            };

            let fbs = [createFramebuffer(), createFramebuffer()];
            let current = 0;

            const draw = (program, texture) => {
                gl.useProgram(program);
                gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);
                const posLoc = gl.getAttribLocation(program, "a_position");
                gl.vertexAttribPointer(posLoc, 2, gl.FLOAT, false, 0, 0);
                gl.enableVertexAttribArray(posLoc);
                if (texture) {
                    gl.activeTexture(gl.TEXTURE0);
                    gl.bindTexture(gl.TEXTURE_2D, texture);
                    gl.uniform1i(gl.getUniformLocation(program, "u_texture"), 0);
                }
                const resLoc = gl.getUniformLocation(program, "u_resolution");
                gl.uniform2fv(resLoc, resolution);
                gl.drawArrays(gl.TRIANGLES, 0, 6);
            };

            // Initialize with random data
            gl.bindFramebuffer(gl.FRAMEBUFFER, fbs[current].fb);
            gl.viewport(0, 0, resolution[0], resolution[1]);
            draw(initialProgram);

            let lastUpdate = 0;
            const updateInterval = 120; // ms

            function animate(now) {
                requestAnimationFrame(animate);
                if (now - lastUpdate < updateInterval) return;
                lastUpdate = now;

                const next = (current + 1) % 2;
                gl.bindFramebuffer(gl.FRAMEBUFFER, fbs[next].fb);
                gl.viewport(0, 0, resolution[0], resolution[1]);
                draw(gameProgram, fbs[current].tex);

                gl.bindFramebuffer(gl.FRAMEBUFFER, null);
                gl.viewport(0, 0, resolution[0], resolution[1]);
                draw(renderProgram, fbs[next].tex);

                current = next;
            }
            animate(0);
        }
    </script>
</body>

</html>